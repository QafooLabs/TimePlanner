<?xml version="1.0" encoding="UTF-8"?>
<project name="Deploy Task">
    <target name="deploy" depends="test" extensionOf="-deploy:main~hook">
        <exec executable="git">
            <arg value="push" />
            <arg value="origin" />
            <arg value="master" />
        </exec>

        <!-- Not using sshexec, because it does not know / handle local SSH
             configuration, and we probably cannot and do not want to duplicate
             tunnel configuration etc.
        -->
        <exec executable="ssh">
            <arg value="${deploy.host}" />
            <arg value="cd ${deploy.path} &amp;&amp; git pull &amp;&amp; git submodule update --init &amp;&amp; ant" />
        </exec>
    </target>
</project>
