{% extends 'QafooTimePlannerBundle::layout.html.twig' %}

{% block content %}
<div class="alert alert-info">
    <p>Hello {% include "QafooUserBundle:User:normal.html.twig" with {user: view.user} %}</p>
    <p>You have <strong>{{view.remainingVacation}} days</strong> of vacation left in year {{view.year}}.</p>
</div>
<div class="row">
    <div class="col-md-6">
        <h2>Vacations</h2>

        <ul class="nav nav-tabs" role="tablist">
        {% for year in view.years %}
            <li role="presentation" {% if year == view.year %}class="active"{% endif %}>
                <a href="{{path("qafoo.time_planner.vacation.overview", {year: year})}}" role="tab">{{year}}</a>
            </li>
        {% endfor %}
        </ul>

        <table class="table table-striped table-hover table-condensed">
        {% for vacation in view.vacations %}
            {% include "QafooTimePlannerBundle:Vacation:tableRow.html.twig" with {vacation: vacation} %}
        {% endfor %}
        </table>
    </div>
    <div class="col-md-6">
        <h2>Add vacation</h2>
        {{render(controller('QafooTimePlannerBundle:Vacation:edit'))}}
    </div>
</div>
{% endblock %}
